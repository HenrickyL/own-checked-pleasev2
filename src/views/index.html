<!DOCTYPE html>
<html lang="pt_br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/img/logo.png">
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/Register.css">
    <link rel="stylesheet" href="/styles/index.css">
    <link rel="stylesheet" href="/styles/responsive.css">


    <title>Own</title>
</head>
<body id="app-home">
    <div id="conectivity">
        <button id="color-status" alt="conecção" class="disconected"></button>
    </div>

       
    
    <main id="app-home-views">
        <h1 alt="titulo">Own</h1>
        <h3 alt="sub-titulo">Cheked please</h3>
        <div id="logoInfo">
            <img id="main-logo"  src="/img/logo.png" alt="Logo colorida">
        </div>
        <p>Seu APP de gerenciamento de compras.</p>


    </main>
    <main id='Register' class='hide'>
        <form id='formInput' action="/register" method="POST" >
            <div id='formRegister'>
                <input type="text" id='username' name="username" required placeholder="Username">
                <input type="email"id='email' name="email" required placeholder="Email">
                <input type="password" id='password' name="password" required placeholder="Password">
                <input type="password" id='confirm' name='confirm' required placeholder="Confirm Password" >
            </div>
            <input id='bt-submit'  type="submit" id='submit' value='Registrar'>
        </form>
        <div class="selection">

            <div id='signin' class="option left active ">
                Sign-In
            </div>
            <div  id="login" class="option right ">
                Log-In
            </div>
        </div>
    </main>

    {% if error %}
        <div class="bg "></div>
        <div class="popup-bg ">
            <div class="popup">
                <img src="/img/error.jpg" alt="error">
                {% if login %}
                <span>Usuário ou senha inválidos!</span>
                {% else %}
                    <span>Não foi possivel criar o usuário. ({{login}})</span>
                {% endif %}
                <button id="popup-bt" class='bt-submit'>Ok</button>
            </div>
        </div>
    {%elif error != null %}
        <div class="bg "></div>
        <div class="popup-bg">
            <div class="popup">
                <img src="/img/check.svg" alt="conclud">
                {% if login==false %}
                    <span>Usuário Cadastrado com sucesso!</span>
                {% endif %}
                <button id="popup-bt" class='bt-submit'>Ok</button>
            </div>
        </div>
    {% endif %}
<script> 
    const main = document.getElementById('app-home-views')
    const btSign = document.getElementById('signin')
    const btLogin = document.getElementById('login')
    const btSubmit = document.getElementById('bt-submit')
    const Register = document.getElementById('Register')
    const form = document.getElementById('formRegister') 
    const logoInfo = document.getElementById('logoInfo')
    const formInput = document.getElementById('formInput')
    const conection = document.getElementById('color-status')


    btLogin.addEventListener('click',()=>{
        if(!btLogin.className.includes('active')){
            btSign.classList.toggle('active')
            btLogin.classList.toggle('active')
        }
        btSubmit.value = 'Entrar'
        formInput.action="/login"
        form.innerHTML = `
                <input type="text" id='usename' name="username" required placeholder="Username">
                <input type="password" id='password' name="password" required placeholder="Password">
        `
        
    })
    btSign.addEventListener('click',()=>{
        if(!btSign.className.includes('active')){
            btSign.classList.toggle('active')
            btLogin.classList.toggle('active')
        }
        formInput.action='/register'
        btSubmit.value = 'Registrar'
        form.innerHTML=`
                <input type="text" id='usename' name="username" required placeholder="Username">
                <input type="email"id='email' name="email" required placeholder="Email">
                <input type="password" id='password' name="password" required placeholder="Password">
                <input type="password" id='confirm' name='confirm' required placeholder="Confirm Password" >
        `
        



    })

    setTimeout(()=>{
        // window.location = '/month/dateCreate'
        logoInfo.innerHTML=''
        // main.innerHTML=`
        // <h1 alt="titulo">Own</h1>
        // <h3 alt="sub-titulo">Cheked please</h3>
        // `
        Register.classList.toggle('hide')

    },2200)
    setInterval(()=>{
        if(navigator.onLine){
            conection.classList.remove('disconected')
            conection.classList.add('conected')
        }else{
            conection.classList.add('disconected')
            conection.classList.remove('conected')
        }
    },1000)
</script>
<script>
    const popup = document.querySelector('.popup-bg')
    const bg = document.querySelector('.bg')
    const bt = document.querySelector('#popup-bt')
    bt.addEventListener('click',()=>{
        bg.classList.toggle('hide')
        popup.classList.toggle('hide')
    })
</script>
<!-- <script type="module" src="/scripts/index.js" ></script> -->

</body>
</html> 